<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head',{subtitle:"editando: " + product.name,styleSheetName:'styles'}) %>

<body>
    <%- include('../partials/header')%>
    <main>
        <div class="main-title-container">
            <a value="Go back!" onclick="history.back()" class="back-arrow"><img src="/img/icon/arrow.svg" alt=""></a>
            <h1 class="main-title">MODIFICAR PRODUCTO</h1>
        </div>
        <div class="form-container">
            <br>
            <p class="form-text">Modificá los datos del producto <%= product.id %> completando el formulario:</p>
            <!-- este action va al productRuoter -->
            
            <form method="POST" action="/product/<%= product.id %>?_method=PUT" enctype="multipart/form-data">     
                <p class="form-subtext">DATOS PRINCIPALES</p>
                <!-- AGREGO LA IMAGEN POR ACA (PROVISORIO)-->
                <br>
                <figure class="product-detail-image-container">
                    <img class="product-detail-image" src="/img/product-img/<%= product.image %>" alt="<%= product.name %>">
                </figure>    
                    
                <input class="product-detail-image" type="file" name="imageProd" id="imageProd" >
                <br> <br>

                <!-- NO SE VEN LOS CIRCULITOS - ESPERO RESOLVERLO ALGUN DIA CERCANO - 
                    TAMPOCO SE COMO RECUPERAR EL VALOR ALMACENADO EN EL JASON
                <label class="form-subtext" >Tipo de producto</label>
                <input type="radio" id="Tinto" name="type" value="Tinto" checked> <label for="Tinto">Tinto</label>
                <input type="radio" id="Blanco" name="type" value="Blanco"> <label for="Blanco">Blanco</label>
                <input type="radio" id="Otro" name="type" value="Otro"> <label for="Otro">Otro</label>
                <br>-->

                <!-- MIENTRAS TANTO LO RESUELVO CON TEXTO Y OJALA QUE EL CLIENTE INGRESE LO QUE CORRESPONDA-->
                <label for="type">
                    <h3 class="label">Tipo de vino/producto...</h3>
                    <select name="type" id="type" value="Tinto">
                        <option value="Tinto" <%= product.type == 'Tinto' ? 'selected' : '' %>>TINTO</option>
                        <option value="Blanco" <%= product.type == 'Blanco' ? 'selected' : '' %>>BLANCO</option>
                        <option value="Otro" <%= product.type == 'Otro' ? 'selected' : '' %>>OTRO</option>
                        <option value="Rosado" <%= product.type == 'Rosado' ? 'selected' : '' %>>ROSADO</option>
                        <option value="Champagne" <%= product.type == 'Champagne' ? 'selected' : '' %>>CHAMPAGNE</option>
                        <option value="Pet Nat" <%= product.type == 'Pet Nat' ? 'selected' : '' %>>PET NAT</option>
                        <option value="Vermuth" <%= product.type == 'Vermuth' ? 'selected' : '' %>>VERMUT</option>
                        <option value="Accesorio" <%= product.type == 'Accesorio' ? 'selected' : '' %>>VERMUT</option>
                    </select>
                </label>
                <label for="name">
                    <h3 class="label">Nombre del vino/producto:</h3>
                    <input class="input" type="text" name="name" id="name" value="<%= product.name %>" >
                </label>
                <label for="producer">
                    <h3 class="label">Bodega:</h3>
                    <input class="input" type="text" name="producer" id="producer" value="<%= product.producer %>">
                </label>
                <label for="harvestYear">
                    <h3 class="label">Año:</h3>
                    <input class="input" type="number" name="harvestYear" id="harvestYear" value="<%= product.harvestYear %>">
                </label>
                <label for="varietal">
                    <h3 class="label">Varietal:</h3>
                    <input class="input" type="text" name="varietal" id="varietal" placeholder="Varietal..." value="<%= product.varietal %>">
                </label>
                <label for="price">
                    <h3 class="label">Precio:</h3>
                    <input class="input" type="number" name="price" id="price" placeholder="Precio..." value="<%= product.price %>">
                </label>
                <label for="description">
                    <h3 class="label">Descripción:</h3>
                    <textarea class="input area" name="description" id="description" cols="30" rows="10" placeholder="Descripción..." ><%= product.description %></textarea>
                </label>

                <h3 class="form-subtext">FICHA TÉCNICA</h3>

                <label for="location">
                    <h3 class="label">Locación del viñedo:</h3>
                    <input class="input" type="text" name="location" id="location" value="<%= product.location %>">
                </label>
                <label for="">
                    <h3 class="label">Altitud:</h3>
                    <input class="input" type="number" name="altitude" id="altitude" value="<%= product.altitude %>">
                </label>
                <label for="">
                    <h3 class="label">Enólogos:</h3>
                    <input class="input" type="text" name="winemakers" id="winemakers" value="<%= product.winemakers %>">
                </label>
                <label for="">
                    <h3 class="label">Composición varietal:</h3>
                    <input class="input" type="text" name="varietalComp" id="varietalComp" value="<%= product.varietalComp %>">
                </label>
                <label for="">
                    <h3 class="label">Composición del suelo:</h3>
                    <input class="input" type="text" name="soil" id="soil" value="<%= product.soil %>">
                </label>
                    <h3 class="label">Graduación alcohólica:</h3>
                    <input class="input" type="number" name="avb" id="avb" step="0.1" min="0" max="16" value="<%= product.avb %>">
                </label>
                    <h3 class="label">Crianza:</h3>
                    <input class="input" type="text" name="breeding" id="breeding" value="<%= product.breeding %>">
                </label>
                <button class="black-button" type="submit">MODIFICAR PRODUCTO</button>
            </form>
        </div>
    </main>

    <%- include('../partials/footer')%>
    
</body>
</html>